# =============================================================================
# STELLAR INSIGHTS BACKEND - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update with your actual values
# NEVER commit .env to version control!
# =============================================================================

# Database Configuration
# For SQLite (recommended for development):
DATABASE_URL=sqlite:./stellar_insights.db
# For PostgreSQL (production):
# DATABASE_URL=postgresql://username:password@localhost:5432/stellar_insights

# Logging
RUST_LOG=info

# Server Configuration
SERVER_HOST=127.0.0.1
SERVER_PORT=8080

# Redis Configuration
REDIS_URL=redis://127.0.0.1:6379

# RPC Configuration
RPC_MOCK_MODE=false

# Database Connection Pool Configuration
DB_POOL_MAX_CONNECTIONS=10
DB_POOL_MIN_CONNECTIONS=2
DB_POOL_CONNECT_TIMEOUT_SECONDS=30
DB_POOL_IDLE_TIMEOUT_SECONDS=600
DB_POOL_MAX_LIFETIME_SECONDS=1800

# Network Configuration (mainnet/testnet)
STELLAR_NETWORK=mainnet
STELLAR_RPC_URL_MAINNET=https://stellar.api.onfinality.io/public
STELLAR_HORIZON_URL_MAINNET=https://horizon.stellar.org
STELLAR_RPC_URL_TESTNET=https://soroban-testnet.stellar.org
STELLAR_HORIZON_URL_TESTNET=https://horizon-testnet.stellar.org

# Backup Configuration (Optional - for production)
# BACKUP_S3_BUCKET=your-backup-bucket-name
# BACKUP_RETENTION_DAYS=30
# NOTIFICATION_EMAIL=admin@example.com
# WALG_S3_PREFIX=s3://your-backup-bucket-name/backups/
# PGDATA=/var/lib/postgresql/data

# Price Feed Configuration
PRICE_FEED_PROVIDER=coingecko
# PRICE_FEED_API_KEY=your_api_key_here
PRICE_FEED_CACHE_TTL_SECONDS=900
PRICE_FEED_REQUEST_TIMEOUT_SECONDS=10

# Compression Configuration
# Minimum response size in bytes to trigger compression (default: 1024)
# Responses smaller than this will not be compressed to avoid overhead
COMPRESSION_MIN_SIZE=1024

# ---------------------------------------------------------------------------
# CORS Configuration
# ---------------------------------------------------------------------------
# Comma-separated list of origins allowed to make cross-origin requests.
#
# Development: allow local frontend dev servers
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
#
# Production: restrict to your actual deployed frontend domain(s)
# CORS_ALLOWED_ORIGINS=https://stellar-insights.com,https://www.stellar-insights.com
#
# WARNING: Setting this to "*" allows ALL origins and is NOT safe for production.
# CORS_ALLOWED_ORIGINS=*

# ---------------------------------------------------------------------------
# SEP-10 Authentication Configuration
# ---------------------------------------------------------------------------
# SEP-10 server public key (Stellar account that signs challenges)
# Generate with: stellar keys generate --network testnet
SEP10_SERVER_PUBLIC_KEY=GXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Home domain for SEP-10 authentication
SEP10_HOME_DOMAIN=stellar-insights.local

# Stellar network passphrase
STELLAR_NETWORK_PASSPHRASE=Test SDF Network ; September 2015

