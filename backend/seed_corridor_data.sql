-- Seed data for corridor_metrics table
-- This script populates test data for corridor analytics

-- Insert sample corridor metrics for testing
INSERT INTO corridor_metrics (
    corridor_key, asset_a_code, asset_a_issuer, asset_b_code, asset_b_issuer,
    date, total_transactions, successful_transactions, failed_transactions,
    success_rate, volume_usd
) VALUES 
-- High-performing USDC <-> EURC corridor
('EURC:GDHU6WRG4IEQXM5NZ4BMPKOXHW76MZM4Y2IEMFDVXBSDP6SJY4ITNPP2->USDC:GA5ZSEJYB37JRC5AVCIA5MOP4RHTM335X2KGX3IHOJAPP5RE34K4KZVN', 
 'EURC', 'GDHU6WRG4IEQXM5NZ4BMPKOXHW76MZM4Y2IEMFDVXBSDP6SJY4ITNPP2',
 'USDC', 'GA5ZSEJYB37JRC5AVCIA5MOP4RHTM335X2KGX3IHOJAPP5RE34K4KZVN',
 CURRENT_DATE, 2500, 2450, 50, 98.00, 2500000.00),

-- Medium-performing BTC <-> ETH corridor  
('BTC:GDCHDRSDOBRMSUDKRE2C4U4KDLNEATJPIHHR2ORFL5BSD56G4DQXL4VW->ETH:GDCHDRSDOBRMSUDKRE2C4U4KDLNEATJPIHHR2ORFL5BSD56G4DQXL4VW',
 'BTC', 'GDCHDRSDOBRMSUDKRE2C4U4KDLNEATJPIHHR2ORFL5BSD56G4DQXL4VW',
 'ETH', 'GDCHDRSDOBRMSUDKRE2C4U4KDLNEATJPIHHR2ORFL5BSD56G4DQXL4VW', 
 CURRENT_DATE, 1200, 1080, 120, 90.00, 5000000.00),

-- Lower-performing XLM <-> USD corridor with high volume
('USD:GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK->XLM:native',
 'USD', 'GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK',
 'XLM', 'native',
 CURRENT_DATE, 5000, 4250, 750, 85.00, 10000000.00),

-- High-volume USDT <-> USDC corridor
('USDC:GA5ZSEJYB37JRC5AVCIA5MOP4RHTM335X2KGX3IHOJAPP5RE34K4KZVN->USDT:GCQTGZQQ5G4PTM2GL7CDIFKUBIPEC52BROAQIAPW53XBRJVN6ZJVTG6V',
 'USDC', 'GA5ZSEJYB37JRC5AVCIA5MOP4RHTM335X2KGX3IHOJAPP5RE34K4KZVN',
 'USDT', 'GCQTGZQQ5G4PTM2GL7CDIFKUBIPEC52BROAQIAPW53XBRJVN6ZJVTG6V',
 CURRENT_DATE, 8000, 7760, 240, 97.00, 15000000.00),

-- Emerging market corridor: BRL <-> USD
('BRL:GDVKY2GU2DRXWTBEYJJWSFXIGBZV6AZNBVVSUHEPZI54LIS6BA7DVVSP->USD:GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK',
 'BRL', 'GDVKY2GU2DRXWTBEYJJWSFXIGBZV6AZNBVVSUHEPZI54LIS6BA7DVVSP',
 'USD', 'GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK',
 CURRENT_DATE, 800, 720, 80, 90.00, 1200000.00),

-- Low-volume specialty corridor: GOLD <-> USD
('GOLD:GAX7B3ZT7WKJBGX5DPMXPBHD4IXQGY4YPGKXLKXQXQXQXQXQXQXQXQXQ->USD:GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK',
 'GOLD', 'GAX7B3ZT7WKJBGX5DPMXPBHD4IXQGY4YPGKXLKXQXQXQXQXQXQXQXQXQ',
 'USD', 'GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK',
 CURRENT_DATE, 150, 135, 15, 90.00, 300000.00),

-- Cross-border remittance corridor: PHP <-> USD
('PHP:GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK->USD:GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK',
 'PHP', 'GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK',
 'USD', 'GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK',
 CURRENT_DATE, 1500, 1425, 75, 95.00, 750000.00),

-- European corridor: EUR <-> GBP
('EUR:GDHU6WRG4IEQXM5NZ4BMPKOXHW76MZM4Y2IEMFDVXBSDP6SJY4ITNPP2->GBP:GDHU6WRG4IEQXM5NZ4BMPKOXHW76MZM4Y2IEMFDVXBSDP6SJY4ITNPP2',
 'EUR', 'GDHU6WRG4IEQXM5NZ4BMPKOXHW76MZM4Y2IEMFDVXBSDP6SJY4ITNPP2',
 'GBP', 'GDHU6WRG4IEQXM5NZ4BMPKOXHW76MZM4Y2IEMFDVXBSDP6SJY4ITNPP2',
 CURRENT_DATE, 600, 570, 30, 95.00, 900000.00),

-- African corridor: NGN <-> USD (lower success rate)
('NGN:GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK->USD:GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK',
 'NGN', 'GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK',
 'USD', 'GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK',
 CURRENT_DATE, 1000, 820, 180, 82.00, 500000.00),

-- Asian corridor: JPY <-> USD
('JPY:GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK->USD:GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK',
 'JPY', 'GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK',
 'USD', 'GCKFBEIYTKP5RDBQMU2GSY6PEHPBQHQT3TGZUBCEABN5DGFMXQSCMWBK',
 CURRENT_DATE, 2200, 2090, 110, 95.00, 3300000.00)

ON CONFLICT (corridor_key, date) DO UPDATE SET
    total_transactions = EXCLUDED.total_transactions,
    successful_transactions = EXCLUDED.successful_transactions,
    failed_transactions = EXCLUDED.failed_transactions,
    success_rate = EXCLUDED.success_rate,
    volume_usd = EXCLUDED.volume_usd,
    updated_at = NOW();

-- Verify the data was inserted
SELECT 
    corridor_key,
    asset_a_code,
    asset_b_code,
    success_rate,
    total_transactions,
    volume_usd
FROM corridor_metrics 
ORDER BY success_rate DESC, volume_usd DESC;